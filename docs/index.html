<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JODA • Buy & Earn Back (BSC Testnet)</title>
  <link rel="stylesheet" href="styles.css">

  <!-- Load ethers.js v6 -->
  <script src="https://cdn.jsdelivr.net/npm/ethers@6.13.0/dist/ethers.umd.min.js"></script>

  <!-- Load our app.js AFTER ethers -->
  <script src="app.js" defer></script>
</head>
<body>
  <header class="navbar">
    <div class="logo">
      <img src="JODALogo.png" alt="JODA Logo" height="40">
      <span>JODA</span>
    </div>

    <nav class="menu">
      <div class="dropdown">
        <button class="dropbtn">Learn ▾</button>
        <div class="dropdown-content">
          <a href="#">How it works</a>
          <a href="#">Tokenomics</a>
          <a href="#">Roadmap</a>
          <a href="#">Our Vision</a>
          <a href="#">FAQ</a>
        </div>
      </div>

      <div class="dropdown">
        <button class="dropbtn">Build ▾</button>
        <div class="dropdown-content">
          <a href="#">Partners</a>
          <a href="#">Blog</a>
          <a href="#">Team</a>
          <a href="#">Mainnet</a>
        </div>
      </div>
    </nav>

    <div class="wallet-actions">
      <span id="status" class="muted">Connecting...</span>
      <button id="connectBtn">Connect Wallet</button>
      <button id="disconnectBtn" style="display:none;">Disconnect</button>
    </div>
  </header>

  <main>
    <!-- ✅ Affiliate / Cashback Panel -->
    <section class="card">
      <h2>Shop online • Get JODA back</h2>
      <p>Use JODA’s shopping link — every time you spend, you get rewarded back in JODA tokens.</p>

      <div class="grid">
        <div class="card">
          <h3>Your personal link</h3>
          <p>Share this link with friends or shop through it to earn JODA.</p>
          <input id="refLink" type="text" readonly value="https://buy-joda.link/?ref=">
          <button onclick="copyRef()">Copy</button>
        </div>

        <div class="card">
          <h3>How it works</h3>
          <ul>
            <li>Connect your wallet → get your unique link.</li>
            <li>Shop online or share the link with friends.</li>
            <li>When a purchase clears, JODA is delivered to your wallet.</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- ✅ Buy JODA -->
    <section class="card">
      <h2>Buy JODA</h2>
      <div id="saleStatus">
        <p>Sale Active: <span id="saleActive">—</span></p>
        <p>Min Buy (BNB): <span id="minBuy">—</span></p>
        <p>Tokens per 1 BNB: <span id="rate">—</span></p>
        <p>Available (JODA): <span id="available">—</span></p>
      </div>
      <input id="buyAmount" type="number" placeholder="BNB to spend (min shown above)">
      <button id="buyBtn">Buy</button>
    </section>

    <!-- ✅ Stake JODA -->
    <section class="card">
      <h2>Stake JODA</h2>
      <div class="grid">
        <div class="card">
          <h3>Stake</h3>
          <input id="stakeAmount" type="number" placeholder="e.g. 100">
          <select id="stakeMonths">
            <option value="3">3 Months</option>
            <option value="6">6 Months</option>
            <option value="12">12 Months</option>
          </select>
          <button id="approveBtn">Approve</button>
          <button id="stakeBtn">Stake</button>
        </div>
        <div class="card">
          <h3>Your Stakes</h3>
          <div id="yourStakes">No stakes yet.</div>
        </div>
      </div>
    </section>
  </main>

  <!-- ✅ Link to app.js -->
  <script src="app.js"></script>
</body>
</html>
